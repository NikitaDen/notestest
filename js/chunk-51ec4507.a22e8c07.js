(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-51ec4507"],{"159b":function(t,e,o){var n=o("da84"),i=o("fdbc"),s=o("17c2"),r=o("9112");for(var a in i){var u=n[a],d=u&&u.prototype;if(d&&d.forEach!==s)try{r(d,"forEach",s)}catch(c){d.forEach=s}}},"17c2":function(t,e,o){"use strict";var n=o("b727").forEach,i=o("a640"),s=o("ae40"),r=i("forEach"),a=s("forEach");t.exports=r&&a?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},"24f3":function(t,e,o){},"40ab":function(t,e,o){"use strict";var n=o("d7c9"),i=o.n(n);i.a},4160:function(t,e,o){"use strict";var n=o("23e7"),i=o("17c2");n({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},"70c2":function(t,e,o){},8160:function(t,e,o){"use strict";var n=o("24f3"),i=o.n(n);i.a},"8a7f":function(t,e,o){"use strict";var n=o("70c2"),i=o.n(n);i.a},a640:function(t,e,o){"use strict";var n=o("d039");t.exports=function(t,e){var o=[][t];return!!o&&n((function(){o.call(null,e||function(){throw 1},1)}))}},b64b:function(t,e,o){var n=o("23e7"),i=o("7b0b"),s=o("df75"),r=o("d039"),a=r((function(){s(1)}));n({target:"Object",stat:!0,forced:a},{keys:function(t){return s(i(t))}})},d7c9:function(t,e,o){},d81d:function(t,e,o){"use strict";var n=o("23e7"),i=o("b727").map,s=o("1dde"),r=o("ae40"),a=s("map"),u=r("map");n({target:"Array",proto:!0,forced:!a||!u},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},dbb4:function(t,e,o){var n=o("23e7"),i=o("83ab"),s=o("56ef"),r=o("fc6a"),a=o("06cf"),u=o("8418");n({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(t){var e,o,n=r(t),i=a.f,d=s(n),c={},l=0;while(d.length>l)o=i(n,e=d[l++]),void 0!==o&&u(c,e,o);return c}})},e439:function(t,e,o){var n=o("23e7"),i=o("d039"),s=o("fc6a"),r=o("06cf").f,a=o("83ab"),u=i((function(){r(1)})),d=!a||u;n({target:"Object",stat:!0,forced:d,sham:!a},{getOwnPropertyDescriptor:function(t,e){return r(s(t),e)}})},fe98:function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"edit"},[o("Popup",{class:{showPopup:t.isPopupShown},attrs:{title:"Note successfully saved!"}}),t.isLeaveConfirmOpened?o("Confirm",{attrs:{title:"Do you want leave this page?"},on:{agreeAction:t.onCancelEditing,closeConfirm:function(e){t.isLeaveConfirmOpened=!1}}}):t._e(),t.isDeleteConfirmOpened?o("Confirm",{attrs:{title:"Do you want delete this note?"},on:{agreeAction:t.deleteNote,closeConfirm:function(e){t.isDeleteConfirmOpened=!1}}}):t._e(),t.isTodoFormOpened?o("Form",{on:{closeForm:t.openTodoForm,addItemInForm:function(e){return t.addTodo(e)}}}):t._e(),o("form",{staticClass:"edit-form",on:{submit:function(e){return e.preventDefault(),t.saveNote(e)}}},[o("div",{staticClass:"buttons-group buttons-group--interactions"},[o("button",{staticClass:"button button--undo",attrs:{type:"button",disabled:t.undoDisabled},on:{click:t.setPreviousState}}),o("button",{staticClass:"button button--redo",attrs:{type:"button",disabled:t.redoDisabled},on:{click:t.setUpdatedState}}),o("button",{staticClass:"button button--delete",attrs:{type:"button"},on:{click:function(e){t.isDeleteConfirmOpened=!0}}})]),o("h3",[t._v("Note Title")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.actualNoteVersion.title,expression:"actualNoteVersion.title"}],staticClass:"input--title",attrs:{type:"text"},domProps:{value:t.actualNoteVersion.title},on:{change:t.setButtonsDisabling,focus:t.setPreviousNoteVersion,blur:t.onChangeEvents,input:function(e){e.target.composing||t.$set(t.actualNoteVersion,"title",e.target.value)}}}),o("hr"),o("h3",[t._v("Todos")]),o("button",{staticClass:"button button--add",attrs:{type:"button"},on:{click:t.openTodoForm}}),t._l(t.actualNoteVersion.todos,(function(e){return o("TodoItem",{key:e.id,attrs:{todo:e},on:{setPreviousNoteVersion:function(e){return t.setPreviousNoteVersion(e)},deleteTodo:function(e){return t.deleteTodo(e)},setButtonsDisabling:t.onChangeEvents}})})),o("div",{staticClass:"buttons-group"},[o("button",{staticClass:"button button--save"},[t._v("Save")]),o("button",{staticClass:"button button--cancel",attrs:{type:"button"},on:{click:function(e){t.isLeaveConfirmOpened=!0}}},[t._v("Cancel")])])],2)],1)},i=[];o("99af"),o("4de4"),o("d81d"),o("a4d3"),o("4160"),o("e439"),o("dbb4"),o("b64b"),o("159b");function s(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function r(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function a(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?r(Object(o),!0).forEach((function(e){s(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var u=o("2909"),d=o("829c"),c=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"todo"},[o("div",{staticClass:"checkbox-element"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.todo.done,expression:"todo.done"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.todo.done)?t._i(t.todo.done,null)>-1:t.todo.done},on:{input:function(e){return t.$emit("setPreviousNoteVersion",t.todo.id)},focus:function(e){return t.$emit("setButtonsDisabling")},change:function(e){var o=t.todo.done,n=e.target,i=!!n.checked;if(Array.isArray(o)){var s=null,r=t._i(o,s);n.checked?r<0&&t.$set(t.todo,"done",o.concat([s])):r>-1&&t.$set(t.todo,"done",o.slice(0,r).concat(o.slice(r+1)))}else t.$set(t.todo,"done",i)}}}),t._m(0)]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.todo.title,expression:"todo.title"}],staticClass:"input",domProps:{value:t.todo.title},on:{change:function(e){return t.$emit("setButtonsDisabling")},focus:function(e){return t.$emit("setPreviousNoteVersion",t.todo.id)},input:function(e){e.target.composing||t.$set(t.todo,"title",e.target.value)}}}),o("button",{staticClass:"button button--delete",on:{click:function(e){return t.$emit("deleteTodo",t.todo.id)}}})])},l=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("label",[o("span",{staticClass:"checked"})])}],p={props:["todo"]},f=p,h=(o("40ab"),o("2877")),b=Object(h["a"])(f,c,l,!1,null,null,null),v=b.exports,m=o("3ec9"),N=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"popup"},[o("p",[t._v(t._s(t.title))])])},g=[],V={props:["title"]},O=V,D=(o("8160"),Object(h["a"])(O,N,g,!1,null,null,null)),y=D.exports,C={components:{Form:d["a"],TodoItem:v,Confirm:m["a"],Popup:y},data:function(){return{notes:[],previousNoteVersion:{},updatedNoteVersion:{},actualNoteVersion:{},isTodoFormOpened:!1,isLeaveConfirmOpened:!1,isDeleteConfirmOpened:!1,stateButtonsDisabled:!0,isPopupShown:!1,undo:!1,redo:!0,undoDisabled:!0,redoDisabled:!0}},methods:{deleteNote:function(){var t=this;localStorage.setItem("notes",JSON.stringify(Object(u["a"])(this.notes).filter((function(e){return e.id!==t.updatedNoteVersion.id})))),this.$router.push("/")},openTodoForm:function(){this.isTodoFormOpened=!this.isTodoFormOpened},addTodo:function(t){this.redoDisabled?(this.undoDisabled=!1,this.previousNoteVersion=a({},this.updatedNoteVersion)):(this.updatedNoteVersion=a({},this.previousNoteVersion),this.redoDisabled=!0,this.undoDisabled=!1),this.isTodoFormOpened=!1;var e={title:t,done:!1,id:"".concat(Date.now())},o=[e].concat(Object(u["a"])(this.updatedNoteVersion.todos));this.previousNoteVersion=a({},this.updatedNoteVersion),this.updatedNoteVersion=a(a({},this.updatedNoteVersion),{},{todos:o})},deleteTodo:function(t){this.redoDisabled?(this.undoDisabled=!1,this.previousNoteVersion=a({},this.updatedNoteVersion)):(this.updatedNoteVersion=a({},this.previousNoteVersion),this.redoDisabled=!0,this.undoDisabled=!1);var e=Object(u["a"])(this.updatedNoteVersion.todos).filter((function(e){return e.id!==t}));this.updatedNoteVersion=a(a({},this.updatedNoteVersion),{},{todos:e})},saveNote:function(){var t=this;localStorage.setItem("notes",JSON.stringify(Object(u["a"])(this.notes).map((function(e){return e.id===t.actualNoteVersion.id?a({},t.actualNoteVersion):e})))),this.isPopupShown=!0,setTimeout((function(){return t.isPopupShown=!1}),3e3)},onCancelEditing:function(){this.$router.push("/")},onChangeEvents:function(){this.redoDisabled||(this.previousNoteVersion=a({},this.updatedNoteVersion),this.updatedNoteVersion=a({},this.actualNoteVersion),this.redoDisabled=!0,this.undoDisabled=!1)},setButtonsDisabling:function(){this.undoDisabled&&this.redoDisabled&&(this.undoDisabled=!1)},setPreviousState:function(){this.undoDisabled=!0,this.redoDisabled=!1,this.actualNoteVersion=this.previousNoteVersion},setUpdatedState:function(){this.undoDisabled=!1,this.redoDisabled=!0,this.actualNoteVersion=this.updatedNoteVersion},setPreviousNoteVersion:function(t){this.setButtonsDisabling(),this.previousNoteVersion=t?a(a({},this.updatedNoteVersion),{},{todos:Object(u["a"])(this.updatedNoteVersion.todos).map((function(e){return e.id===t?a({},e):e}))}):a({},this.updatedNoteVersion)}},mounted:function(){var t=this;this.notes=JSON.parse(localStorage.getItem("notes")),this.previousNoteVersion=JSON.parse(localStorage.getItem("notes")).filter((function(e){return e.id===t.$route.params.id}))[0],this.updatedNoteVersion=JSON.parse(localStorage.getItem("notes")).filter((function(e){return e.id===t.$route.params.id}))[0],this.actualNoteVersion=this.updatedNoteVersion},watch:{updatedNoteVersion:function(){this.actualNoteVersion=this.updatedNoteVersion}}},w=C,P=(o("8a7f"),Object(h["a"])(w,n,i,!1,null,null,null));e["default"]=P.exports}}]);
//# sourceMappingURL=chunk-51ec4507.a22e8c07.js.map